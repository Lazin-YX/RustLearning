# 类型转换
## From trait与Into trait
`From`trait与`Into`trait是内部关联的, 定义了`From` trait会自动获得`Into`trait  
`From`trait实现:  
```rust
struct Number {
    value: i32,
}

impl From<i32> for Number {
    //实现该关联函数
    fn from(value: i32) -> Self {
        Number { value }
    }
}
```
## 其他类型转换
### TryFrom trait与TryInto trait  
用于类型转换的通用trait, 与`From`/`Into`的区别是用于可出错的类型, 返回值是`Result`类型  
### ToString trait与FromStr trait  
`ToString`trait用于将类型转换为String  
类型实现后可使用`to_string`方法将类型转换为String
无需直接实现`ToString`trait, 可以实现`fmt::Display`trait, 该trait会自动实现`ToString`trait  
`FromStr`trait用于将String转换为类型  
类型T实现后可以对String使用`parse<T>`将String转换为该类型(parse: 句法分析)  
### 解引用强制类型转换(隐式转换)
在实现了`Deref/DerefMut`trait的类型上, 由于重载了解引用运算符, 对该类型进行解引用可以转换为另一种类型  
原理: 实现了`Deref`trait族的类型可以被视为一个引用, 解引用时编译器会自动添加`deref`方法  
隐式转换: 对于`&a`与`&b`, 若存在`*..a`(`*..`代表无限个`*`)的返回的类型为`&b`, 则`&a`可隐式转换为`&b`  
举例, 若`a.deref()`返回类型为`&b`, 则将`&a`传参给`&b`类型时编译器会将它视为:  
`&a` -> `&*a` -> `&*a.deref()` -> `&*(&b)` -> `&b`  
隐式转换的本质是不断进行解引用直到完成类型匹配  
具体请查看智能指针章节  